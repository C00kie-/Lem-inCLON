valgrind --leak-check=full ./lem-in < maps/map_2
==15279== Memcheck, a memory error detector
==15279== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==15279== Using Valgrind-3.13.0 and LibVEX; rerun with -h for copyright info
==15279== Command: ./lem-in
==15279==
--15279-- run: /usr/bin/dsymutil "./lem-in"
==15279== Syscall param msg->desc.port.name points to uninitialised byte(s)
==15279==    at 0x1003AE34A: mach_msg_trap (in /usr/lib/system/libsystem_kernel.dylib)
==15279==    by 0x1003AD796: mach_msg (in /usr/lib/system/libsystem_kernel.dylib)
==15279==    by 0x1003A7485: task_set_special_port (in /usr/lib/system/libsystem_kernel.dylib)
==15279==    by 0x10054310E: _os_trace_create_debug_control_port (in /usr/lib/system/libsystem_trace.dylib)
==15279==    by 0x100543458: _libtrace_init (in /usr/lib/system/libsystem_trace.dylib)
==15279==    by 0x1000AC9DF: libSystem_initializer (in /usr/lib/libSystem.B.dylib)
==15279==    by 0x10001CA1A: ImageLoaderMachO::doModInitFunctions(ImageLoader::LinkContext const&) (in /usr/lib/dyld)
==15279==    by 0x10001CC1D: ImageLoaderMachO::doInitialization(ImageLoader::LinkContext const&) (in /usr/lib/dyld)
==15279==    by 0x1000184A9: ImageLoader::recursiveInitialization(ImageLoader::LinkContext const&, unsigned int, char const*, ImageLoader::InitializerTimingList&, ImageLoader::UninitedUpwards&) (in /usr/lib/dyld)
==15279==    by 0x100018440: ImageLoader::recursiveInitialization(ImageLoader::LinkContext const&, unsigned int, char const*, ImageLoader::InitializerTimingList&, ImageLoader::UninitedUpwards&) (in /usr/lib/dyld)
==15279==    by 0x100017523: ImageLoader::processInitializers(ImageLoader::LinkContext const&, unsigned int, ImageLoader::InitializerTimingList&, ImageLoader::UninitedUpwards&) (in /usr/lib/dyld)
==15279==    by 0x1000175B8: ImageLoader::runInitializers(ImageLoader::LinkContext const&, ImageLoader::InitializerTimingList&) (in /usr/lib/dyld)
==15279==  Address 0x10488fd6c is on thread 1's stack
==15279==  in frame #2, created by task_set_special_port (???:)
==15279==
==15279== Conditional jump or move depends on uninitialised value(s)
==15279==    at 0x100001C6F: ft_strlen (ft_strlen.c:20)
==15279==    by 0x10000189F: ft_strcat (ft_strcat.c:21)
==15279==    by 0x100001C34: ft_strjoin (ft_strjoin.c:33)
==15279==    by 0x10000215C: join_buffer (get_next_line.c:19)
==15279==    by 0x10000207C: get_next_line (get_next_line.c:56)
==15279==    by 0x1000025BC: parser (parser.c:91)
==15279==    by 0x1000024B7: main (main.c:80)
==15279==
==15279== Invalid read of size 1
==15279==    at 0x100001E46: ft_word_count (ft_strsplit.c:24)
==15279==    by 0x100001CF6: ft_strsplit (ft_strsplit.c:48)
==15279==    by 0x100002769: linetodata (parser.c:64)
==15279==    by 0x1000026CB: parser (parser.c:102)
==15279==    by 0x1000024B7: main (main.c:80)
==15279==  Address 0x100b5de8f is 1 bytes before a block of size 2 alloc'd
==15279==    at 0x10009DA46: malloc (in /Users/pbourmea/.brew/Cellar/valgrind/3.13.0/lib/valgrind/vgpreload_memcheck-amd64-darwin.so)
==15279==    by 0x100001ACB: ft_strdup (ft_strdup.c:21)
==15279==    by 0x100002207: case_end (get_next_line.c:33)
==15279==    by 0x100002115: get_next_line (get_next_line.c:61)
==15279==    by 0x1000025BC: parser (parser.c:91)
==15279==    by 0x1000024B7: main (main.c:80)
==15279==
3
##start
==15279== Invalid read of size 1
==15279==    at 0x100001E46: ft_word_count (ft_strsplit.c:24)
==15279==    by 0x100001CF6: ft_strsplit (ft_strsplit.c:48)
==15279==    by 0x100002B22: init_room (room.c:73)
==15279==    by 0x1000027D0: linetodata (parser.c:69)
==15279==    by 0x1000026CB: parser (parser.c:102)
==15279==    by 0x1000024B7: main (main.c:80)
==15279==  Address 0x100b5e28f is 1 bytes before a block of size 10 alloc'd
==15279==    at 0x10009DA46: malloc (in /Users/pbourmea/.brew/Cellar/valgrind/3.13.0/lib/valgrind/vgpreload_memcheck-amd64-darwin.so)
==15279==    by 0x100001ACB: ft_strdup (ft_strdup.c:21)
==15279==    by 0x100002207: case_end (get_next_line.c:33)
==15279==    by 0x100002115: get_next_line (get_next_line.c:61)
==15279==    by 0x1000025BC: parser (parser.c:91)
==15279==    by 0x1000024B7: main (main.c:80)
==15279==
start 1 0
##end
end 5 0
2 9 0
3 13 0
==15279== Invalid read of size 1
==15279==    at 0x100001E46: ft_word_count (ft_strsplit.c:24)
==15279==    by 0x100001CF6: ft_strsplit (ft_strsplit.c:48)
==15279==    by 0x1000028A9: check_tubes (parser.c:26)
==15279==    by 0x10000280C: linetodata (parser.c:71)
==15279==    by 0x1000026CB: parser (parser.c:102)
==15279==    by 0x1000024B7: main (main.c:80)
==15279==  Address 0x100b5fa0f is 1 bytes before a block of size 8 alloc'd
==15279==    at 0x10009DA46: malloc (in /Users/pbourmea/.brew/Cellar/valgrind/3.13.0/lib/valgrind/vgpreload_memcheck-amd64-darwin.so)
==15279==    by 0x100001ACB: ft_strdup (ft_strdup.c:21)
==15279==    by 0x100002207: case_end (get_next_line.c:33)
==15279==    by 0x100002115: get_next_line (get_next_line.c:61)
==15279==    by 0x1000025BC: parser (parser.c:91)
==15279==    by 0x1000024B7: main (main.c:80)
==15279==
start-2
2-3
3-end

# Map looks like this:
#
#    (start)
#     \
#      2
#     /
#    3
#     \
#      (end)
#

L1-2
L1-3 L2-2
L1-end L2-3 L3-2
L2-end L3-3
L3-end
==15279==
==15279== HEAP SUMMARY:
==15279==     in use at exit: 19,346 bytes in 224 blocks
==15279==   total heap usage: 363 allocs, 139 frees, 28,858 bytes allocated
==15279==
==15279== 1 bytes in 1 blocks are definitely lost in loss record 1 of 52
==15279==    at 0x10009DA46: malloc (in /Users/pbourmea/.brew/Cellar/valgrind/3.13.0/lib/valgrind/vgpreload_memcheck-amd64-darwin.so)
==15279==    by 0x10000163C: ft_memalloc (ft_memalloc.c:21)
==15279==    by 0x100001CAC: ft_strnew (ft_strnew.c:29)
==15279==    by 0x100001F26: ft_strsub (ft_strsub.c:22)
==15279==    by 0x1000021F7: case_end (get_next_line.c:32)
==15279==    by 0x100002115: get_next_line (get_next_line.c:61)
==15279==    by 0x1000025BC: parser (parser.c:91)
==15279==    by 0x1000024B7: main (main.c:80)
==15279==
==15279== 8 bytes in 1 blocks are definitely lost in loss record 2 of 52
==15279==    at 0x10009DA46: malloc (in /Users/pbourmea/.brew/Cellar/valgrind/3.13.0/lib/valgrind/vgpreload_memcheck-amd64-darwin.so)
==15279==    by 0x10000163C: ft_memalloc (ft_memalloc.c:21)
==15279==    by 0x100002CE2: find_shortest (resolve.c:57)
==15279==    by 0x1000024D2: main (main.c:82)
==15279==
==15279== 220 bytes in 22 blocks are definitely lost in loss record 37 of 52
==15279==    at 0x10009DA46: malloc (in /Users/pbourmea/.brew/Cellar/valgrind/3.13.0/lib/valgrind/vgpreload_memcheck-amd64-darwin.so)
==15279==    by 0x10000163C: ft_memalloc (ft_memalloc.c:21)
==15279==    by 0x100001CAC: ft_strnew (ft_strnew.c:29)
==15279==    by 0x100001FCD: get_next_line (get_next_line.c:46)
==15279==    by 0x1000025BC: parser (parser.c:91)
==15279==    by 0x1000024B7: main (main.c:80)
==15279==
==15279== 448 bytes in 19 blocks are definitely lost in loss record 44 of 52
==15279==    at 0x10009DA46: malloc (in /Users/pbourmea/.brew/Cellar/valgrind/3.13.0/lib/valgrind/vgpreload_memcheck-amd64-darwin.so)
==15279==    by 0x100001D05: ft_strsplit (ft_strsplit.c:48)
==15279==    by 0x100002769: linetodata (parser.c:64)
==15279==    by 0x1000026CB: parser (parser.c:102)
==15279==    by 0x1000024B7: main (main.c:80)
==15279==
==15279== 510 (80 direct, 430 indirect) bytes in 1 blocks are definitely lost in loss record 45 of 52
==15279==    at 0x10009DA46: malloc (in /Users/pbourmea/.brew/Cellar/valgrind/3.13.0/lib/valgrind/vgpreload_memcheck-amd64-darwin.so)
==15279==    by 0x10000163C: ft_memalloc (ft_memalloc.c:21)
==15279==    by 0x1000024AA: main (main.c:79)
==15279==
==15279== LEAK SUMMARY:
==15279==    definitely lost: 757 bytes in 44 blocks
==15279==    indirectly lost: 2,494 bytes in 19 blocks
==15279==      possibly lost: 0 bytes in 0 blocks
==15279==    still reachable: 200 bytes in 6 blocks
==15279==         suppressed: 15,895 bytes in 155 blocks
==15279== Reachable blocks (those to which a pointer was found) are not shown.
==15279== To see them, rerun with: --leak-check=full --show-leak-kinds=all
==15279==
==15279== For counts of detected and suppressed errors, rerun with: -v
==15279== Use --track-origins=yes to see where uninitialised values come from
==15279== ERROR SUMMARY: 32 errors from 10 contexts (suppressed: 13 from 13)
 ⚙ pbourmea@e3r1p9  ~/WORK/CLONE_LEM-IN   updateLib ● 